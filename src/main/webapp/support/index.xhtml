<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <ui:include src="../included/head/head.xhtml"></ui:include>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCI99iQYguPMIXXkJQfoS-23blK9ry9Ck&amp;callback=initMap" type="text/javascript"/>
    <style type="text/css">
        .topcorner{
            position:absolute;
            top:0;
            right:0;
        }
        .tekst{
            margin-top: 10%;
            color: ;
        }
    </style>
</h:head>
<h:body styleClass="achtergrondfoto">
    <!-- <ui:include> kan gebruikt worden om delen vanuit een andere XHTML gemakkelijk over te zetten: navbar als voorbeeld.  -->
        <h:panelGroup id="wrapperPanel">
                <h:panelGroup id="loggedOut" rendered="#{userController.sessionUserId == null}">
                    <ui:include src="/included/navbar/navBar.xhtml"/>
                </h:panelGroup>
                <h:panelGroup id="loggedIn" rendered="#{userController.sessionUserId != null}">
                    <ui:include src="/included/navbar/navBarLoggedIn.xhtml"/>
                </h:panelGroup>
        </h:panelGroup>
    <b:container>
        <h3 class="smoke">Contact opnemen Random IT</h3>
        <p:accordionPanel>
            <p:tab title="Bedrijf contact gegevens">
                <p:panelGrid columns="2" cellpadding="10" cellspacing="50">
                    <h:outputText
                            value="Adres:" />
                    <h:outputText
                            value="Kleinhoefstraat 4, 2440 Geel" />
                    <h:outputText
                            value="Contacteer ons:" />
                    <h:outputText
                            value="Telefoon: 047 145 424 29" />
                    <h:outputText
                            value="Stuur een mail:" />
                    <a class="mailtolink" href="mailto:randomIT@randomit.be">randomIT@randomit.be</a>
                </p:panelGrid>
                <b:image width="50%" value="../resources/images/logo.png" styleClass="right" class="logorandomit topcorner" />
                <p class="tekst">U kunt ook direct een vraag stellen aan ons team als u zich heeft geregistreerd waarna u naar ons <b:navLink  value="Support Ticket" outcome="supportTicket"></b:navLink>pagina kan gaan.</p>
            </p:tab>
            <p:tab title="Geografische ligging">
                <h3>Geografische ligging Random IT</h3>
                <div><p:gmap center="51.1598347,4.9617172" zoom="15" type="HYBRID" style="width:100%;height:400px" model="#{supportTicketGmapController.simpleModel}" /></div>
            </p:tab>
            <p:tab rendered="#{userController.sessionUserId != null}" title="Alle support tickets admin">
                <b:panel>
                    <h:form>
                        <b:dataTable var="s" value="#{supportTicketController.getSupportTickets()}" responsive="true">
                            <b:dataTableColumn value="#{s.opmerking}" />
                            <b:dataTableColumn value="#{s.naam}" />
                        </b:dataTable>
                    </h:form>
                </b:panel>
            </p:tab>

            <p:tab rendered="#{userController.sessionUserId != null}" title="Maak support ticket aan Random IT">
                <b:panel>
                    <h:form>
                        <p:panel id="panel" header="Form" style="margin-bottom:10px;">
                            <p:messages id="messages" />
                            <h:panelGrid columns="2" cellpadding="5">
                                <h:outputLabel for="naam" value="Naam:" />
                                <p:inputText id="naam" value="#{supportTicketController.supportTicket.naam}" />

                                <h:outputLabel for="opmerking" value="Opmerking:" />
                                <p:inputText id="opmerking" value="#{supportTicketController.supportTicket.opmerking}" />

                                <p:outputLabel value="#{supportTicketController.now()}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" type="date" />
                                </p:outputLabel>

                                <p:commandButton value="Submit" action="#{supportTicketController.add()}" update="@form"  />

                            </h:panelGrid>
                        </p:panel>

                    </h:form>
                </b:panel>
            </p:tab>
            <p:tab rendered="#{userController.sessionUserId != null}" title="Support tickets van  #{userController.huidigeKlant.voornaam}  #{userController.huidigeKlant.familienaam} #{userController.huidigeKlant.id}">
                <b:panel>
                    <p>
                        #{userController.huidigeKlant.voornaam}  #{userController.huidigeKlant.familienaam}"
                    </p>
                </b:panel>
            </p:tab>

        </p:accordionPanel>
    </b:container>
</h:body>
</html>